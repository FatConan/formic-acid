@import de.themonstrouscavalca.formicacid.reports.Report
@import de.themonstrouscavalca.formicacid.reports.ReportRow
@import de.themonstrouscavalca.formicacid.reports.interfaces.IReportCell

@(report: Report)

@table()(tableHead: Html)(tableBody: Html) = {
    <table id="generic-report" class="list-view with-headers striped sortable" data-filterinput="search-table">
        <thead>
        @tableHead
        </thead>
        <tbody>
        @tableBody
        </tbody>
    </table>
}

@table(){
    @for(row: ReportRow <- report.getHeaders) {
        @headerRow(row)
    }
} {
    @for(row: ReportRow <- report.getBody) {
        @bodyRow(row)
    }
}


@headerRow(row:ReportRow) = {
    <tr>
    @for(col:IReportCell <- row.getVisibleDataColumns) {
        <th @if(col.getColSpan > 1) {
            colspan="@col.getColSpan" }>@col.getValue</th>
    }
    </tr>
}

@bodyRow(row:ReportRow) = {
    <tr>
    @for(col:IReportCell <- row.getVisibleDataColumns) {
        <td class="searchable" @if(col.getColSpan > 1) {
            colspan="@col.getColSpan" }>@col.getValue</td>
    }
    </tr>
}
